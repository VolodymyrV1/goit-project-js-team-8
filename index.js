import{S as D,N as V,P as z,A as _,i as g,a as H}from"./assets/vendor-CnFh_1u2.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const E=document.querySelector(".navbar-mobile"),j=document.querySelector(".menu-btn"),G=document.querySelector(".navbar-close-btn"),K=document.querySelectorAll(".navbar-nav-link");j.addEventListener("click",()=>{E.classList.add("is-open"),document.body.classList.add("menu-open")});G.addEventListener("click",()=>{E.classList.remove("is-open"),document.body.classList.remove("menu-open")});K.forEach(e=>{e.addEventListener("click",()=>{E.classList.remove("is-open"),document.body.classList.remove("menu-open")})});const f=new Swiper("#hero-swiper",{slidesPerView:1,loop:!1,speed:600,allowTouchMove:!1,effect:"fade",fadeEffect:{crossFade:!0},on:{slideChange:F}}),v=document.getElementById("hero-prev"),y=document.getElementById("hero-next");v.addEventListener("click",()=>f.slidePrev());y.addEventListener("click",()=>f.slideNext());function F(){v.disabled=f.isBeginning,y.disabled=f.isEnd,v.classList.toggle("disabled",v.disabled),y.classList.toggle("disabled",y.disabled)}F();console.log("Swiper initialized:",f);document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".feedback-cards .card"),s=document.querySelector(".arrow.left"),n=document.querySelector(".arrow.right"),r=document.querySelector(".dots"),t=4;let o=0;function l(){const i=window.innerWidth;return i<=400?1:i<=768?2:3}function d(){return Math.ceil(e.length/l())}function p(){const i=l(),B=d();e.forEach((u,a)=>{const P=o*i,T=P+i;u.style.display=a>=P&&a<T?"flex":"none"}),r.innerHTML="";for(let u=0;u<t;u++){const a=document.createElement("span");a.classList.add("dot"),a.classList.toggle("active",u===Math.min(o,t-1)),a.addEventListener("click",()=>{o=Math.floor(u*B/t),p()}),r.appendChild(a)}s.disabled=o===0,n.disabled=o>=B-1}s.addEventListener("click",()=>{o>0&&o--,p()}),n.addEventListener("click",()=>{o<d()-1&&o++,p()}),window.addEventListener("resize",()=>{const i=d();o>=i&&(o=i-1),p()}),p()});const b=new D(".events-swiper",{modules:[V,z],wrapperClass:"events-list",slideClass:"events-item",slidesPerView:1,spaceBetween:24,breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},pagination:{el:".events-pagination",clickable:!0,bulletElement:"li",bulletClass:"events-dot",bulletActiveClass:"events-dot--active",renderBullet:(e,s)=>`<li class="${s}" aria-label="Go to slide ${e+1}" tabindex="0"></li>`},navigation:{prevEl:".events-swipe-btn-prev",nextEl:".events-swipe-btn-next"},watchOverflow:!0}),$=document.querySelector(".events-swipe-btn-prev"),M=document.querySelector(".events-swipe-btn-next");function S(){const e=b.isBeginning,s=b.isEnd;$.toggleAttribute("disabled",e),M.toggleAttribute("disabled",s),$.setAttribute("aria-disabled",String(e)),M.setAttribute("aria-disabled",String(s))}b.on("afterInit",S);b.on("slideChange",S);b.on("update",S);S();const W=async e=>await H.get(`https://books-backend.p.goit.global/books/${e}`),N=document.querySelector(".loader-back"),O=document.querySelector(".books-button"),Y=document.querySelector(".count-block"),k=document.querySelector(".book-crd-author"),q=document.querySelector(".book-crd-title"),m=document.querySelector(".image"),J=document.querySelector(".close-btn"),L=document.querySelector(".modal_back"),h=document.querySelector(".minus"),Q=document.querySelector(".plus"),C=document.querySelector(".txt-count"),x=document.querySelector(".book-crd-price"),R=document.querySelector(".accordion-container"),U=document.querySelector(".txt-details"),X=document.querySelector(".add-btn"),Z=document.querySelector(".buy-btn");let c=1,A=0;const I=new _(R,{collapse:!0,showMultiple:!0,duration:400,triggerClass:"ac-title",beforeOpen:e=>{e.querySelector(".icon-ac-down").classList.add("rotate")},beforeClose:e=>{e.querySelector(".icon-ac-down").classList.remove("rotate")}}),ee=async e=>{try{N.classList.toggle("is-open");const n=(await W(e)).data;A+=n.price,m.setAttribute("src",`${n.book_image}`),m.setAttribute("alt",`${n.title}`),q.textContent=n.title,k.textContent=n.author,x.textContent=`$${n.price}`,C.textContent=`${String(c)}`,U.textContent=n.description,I.update()}catch{document.querySelector(".error").classList.add("is-open"),document.querySelector(".modal").style.overflow="hidden",g.error({title:"Error",message:"Not found 404",position:"topCenter"})}finally{N.classList.toggle("is-open")}};Y.addEventListener("click",e=>{e.target===h?(c--,console.log("-")):e.target===Q&&(c++,console.log("+")),c===0?h.disabled=!0:h.disabled=!1,C.textContent=`${String(c)}`,x.textContent=`$${String((c*Number(A)).toFixed(2))}`});J.addEventListener("click",e=>{w()});document.addEventListener("keydown",e=>{e.key==="Escape"&&w()});const te=e=>{L.classList.add("is-open"),document.querySelector("body").style.overflow="hidden",ee(e)},w=()=>{document.querySelector("body").style.overflow="auto",L.classList.remove("is-open"),oe()},oe=()=>{m.hasAttribute("src")&&m.hasAttribute("alt")&&(m.removeAttribute("src"),m.removeAttribute("alt"),q.textContent="",k.textContent="",x.textContent="$0"),A=0,c=1,C.textContent="",I.closeAll(),document.querySelector(".error").classList.remove("is-open"),document.querySelector(".modal").style.overflow="auto"};X.addEventListener("click",e=>{c===0?g.info({title:"You have not selected anything",color:"yellow"}):g.info({title:`${c} ${c===1?"book":"books"} "${q.textContent}" by author ${k.textContent} Added`})});Z.addEventListener("click",e=>{g.success({title:"Thank you for your purchase"}),setTimeout(()=>{w()},1e3)});L.addEventListener("click",e=>{e.target===L&&w()});O.addEventListener("click",e=>{te(O.id)});document.querySelector(".events-section")?.addEventListener("click",e=>{e.target.closest(".js-register")&&window.dispatchEvent(new CustomEvent("open-register-modal"))});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".modal.modal-contacts"),s=e?.querySelector(".modal_close-btn"),n=e?.querySelector("#contactForm");if(!e||!s)return;window.addEventListener("open-register-modal",function(){e.classList.add("is-open"),document.body.classList.add("modal-open")});function r(){e.classList.remove("is-open"),document.body.classList.remove("modal-open"),n&&n.reset()}s.addEventListener("click",r),e.addEventListener("click",function(t){t.target===e&&r()}),document.addEventListener("keydown",function(t){t.key==="Escape"&&e.classList.contains("is-open")&&r()}),n&&(n.addEventListener("submit",function(t){t.preventDefault();let o=!0;n.querySelectorAll("input[required]").forEach(d=>{d.value.trim()?d.classList.remove("invalid"):(d.classList.add("invalid"),o=!1)}),o&&(console.log("Форма отправлена!"),r())}),n.querySelectorAll(".form-control").forEach(t=>{t.addEventListener("input",function(){this.classList.remove("invalid")})}))});
//# sourceMappingURL=index.js.map
